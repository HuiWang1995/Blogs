# 统一监控平台需求

​		为保证服务正常提供不中断，服务器上需要监控的东西很多，需要部署很多对应的监控程序，对接告警平台，短信平台。没有成熟的开源统一监控平台，提供足够的文档，供开发者方便的进行二次开发。本项目旨在提供最基础的监控服务，以及足够的扩展性供业务方进行快速扩展满足定制化的监控需求。

## 平台定位

- 服务中小企业，易上手，易扩展，侵入性低。

- 部署所需资源要求不高。例如：监视服务器千台以下，监视进程服务万以下。

## 监控类型

### 1. 基础监控

​		基础监控为Linux系统监控，CPU、内存、磁盘、网络等基础信息的监控。确保服务器正常提供服务，在临界值发出告警。以及界面能跳转Web ssh终端进行操作。

### 2. 进程监控

​		进程监控通过对端口、接口、服务名等进行监控。确保提供服务的进程存活，非正常态发出告警。

### 3. 数据库监控

​		对常用数据库Mysql、Oracle提供定制化的监控，监控指标例如用户连接数、会话数、慢SQL等等。

### 4. 中间件监控

​		对市面上常见中间件，例如Zookeeper、Redis、Kafka等，建立其对应中间件指标的监控。例如Zookeeper的连接数、节点数、监听节点数等。

### 5. 日志监控

​		对服务器上指定的目录，检测文件大小、文件数量等日志监控。

### 6. 业务监控

​		通过日志提取、对接消息队列等方式对业务重要日志进行监控，根据响应码判断业务日志是否需要发出告警。



### 7. 通用监控扩展

​		通过支持插件的方式扩展程序，使得可以接入第三方数据源、接口，例如Prometheus、Actuator等，做数据转换，在本系统展示。



## 监控展示

​		监控需要以图表的方式进行展示，并且页面可以自动刷新。



## 监控配置

​		监控配置需要界面化的方式进行配置。



## 告警通知

​		自带告警平台，或对接告警平台。

​		提供短信接口对接，方便接入不同厂商的短信平台。

## 架构要求

​		保证可用性，可集群部署。性能要求能单机支持上千台服务器的监控。



## 更多需求

> 监控平台讲究一个生态，需要联动的平台有很多，需要我们慢慢接入

### 对接DevOps

​		例如我所见到的，我司用到的在jenkins部署时，即可以接入skywalking，所以能够在DevOps部署应用时，即接入监控平台，减少人手工配置，能节约大量时间，人工操作。

### 自动发现

​		例如zabbix会扫描服务器打开的端口，例如打开了1521端口，即可以推断该服务器在运行mysql。

### 外接输入输出

​		遇到过有些甲方在已有监控系统的情况下，仍需购买其他监控平台补全不足时，会希望将展示同步到一个监控平台中去提供能力。

​		在考虑外接输入时，可以优先考虑接入Prometheus的标准，毕竟未来也许是云原生的天下，而且Spring Boot扩展Prometheus，进行Http接口提供数据也是十分轻松。

​		在考虑外接输出时，可以考虑接出Grafana，毕竟现在接出在其展示的并不在少数。

